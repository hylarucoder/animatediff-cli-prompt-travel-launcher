import{i as f}from"./main.429c1dad.js";import{i as v}from"./ipcRenderer.ac34f8e7.js";import{_ as h,c as g,a as o,b as e,w as t,o as k,d as i,t as b,p as V,e as D}from"./entry.978b97f1.js";import{_ as x,a as C,I}from"./index.bef8db8e.js";import{B as O}from"./index.77e35669.js";import"./Col.48aa6d63.js";import"./AntdIcon.22ef303b.js";import"./_getTag.cf4696dc.js";import"./index.esm.201addbf.js";import"./InsertStyle.d154dc06.js";import"./index.84c27b45.js";import"./responsiveObserve.66660026.js";import"./useFlexGapSupport.2d7d1ead.js";import"./FormItemContext.6a0e0e16.js";import"./Compact.ff18982f.js";import"./omit.fb3562ba.js";import"./vnode.1e6e4dd3.js";import"./CloseCircleFilled.3288826c.js";import"./index.12b374c1.js";import"./ResizeObserver.es.0f9f8adb.js";import"./EyeOutlined.ee04c144.js";import"./devWarning.642abf93.js";const U={data(){return{name:"张三",age:10,userList:["空"],search_age:10,update_name:"张三",update_age:21,delete_name:"张三",all_list:["空"],data_dir:""}},mounted(){this.init()},methods:{init(){const s={action:"getDataDir"};v.invoke(f.jsondbOperation,s).then(l=>{this.data_dir=l.result,this.getAllTestData()})},getAllTestData(){const s={action:"all"};v.invoke(f.jsondbOperation,s).then(l=>{if(console.log("res:",l),l.all_list.length==0)return!1;this.all_list=l.all_list})},selectDir(){v.invoke(f.selectFolder,"").then(s=>{this.data_dir=s,this.modifyDataDir(s)})},openDir(){v.invoke(f.openDirectory,{id:this.data_dir}).then(s=>{})},modifyDataDir(s){const l={action:"setDataDir",data_dir:s};v.invoke(f.jsondbOperation,l).then(u=>{this.all_list=u.all_list})},dbOperation(s){const l={action:s,info:{name:this.name,age:parseInt(this.age)},search_age:parseInt(this.search_age),update_name:this.update_name,update_age:parseInt(this.update_age),delete_name:this.delete_name};s=="add"&&this.name.length==0&&this.$message.error("请填写数据"),v.invoke(f.jsondbOperation,l).then(u=>{if(console.log("res:",u),s=="get"){if(u.result.length==0){this.$message.error("没有数据");return}this.userList=u.result}if(u.all_list.length==0){this.all_list=["空"];return}this.all_list=u.all_list,this.$message.success("success")})}}},r=s=>(V("data-v-f307b85c"),s=s(),D(),s),j={id:"app-base-db"},y=r(()=>o("div",{class:"one-block-1"},[o("span",null," 1. jsondb本地数据库 ")],-1)),B={class:"one-block-2"},w=r(()=>o("div",{class:"one-block-1"},[o("span",null," 2. 数据目录 ")],-1)),S={class:"one-block-2"},A=r(()=>o("div",{class:"one-block-1"},[o("span",null," 3. 测试数据 ")],-1)),L={class:"one-block-2"},N=r(()=>o("div",{class:"one-block-1"},[o("span",null," 4. 添加数据 ")],-1)),T={class:"one-block-2"},E=r(()=>o("div",{class:"one-block-1"},[o("span",null," 5. 获取数据 ")],-1)),F={class:"one-block-2"},M=r(()=>o("div",{class:"one-block-1"},[o("span",null," 6. 修改数据 ")],-1)),R={class:"one-block-2"},q=r(()=>o("div",{class:"one-block-1"},[o("span",null," 7. 删除数据 ")],-1)),z={class:"one-block-2"};function G(s,l,u,H,n,m){const a=C,_=x,p=I,c=O;return k(),g("div",j,[y,o("div",B,[e(_,null,{default:t(()=>[e(a,{span:8},{default:t(()=>[i(" • 小数据量: 0~100M(单库) ")]),_:1}),e(a,{span:8},{default:t(()=>[i(" • json数据库 ")]),_:1}),e(a,{span:8},{default:t(()=>[i(" • 兼容lodash语法 ")]),_:1})]),_:1})]),w,o("div",S,[e(_,null,{default:t(()=>[e(a,{span:12},{default:t(()=>[e(p,{modelValue:n.data_dir,"onUpdate:modelValue":l[0]||(l[0]=d=>n.data_dir=d),value:n.data_dir,"addon-before":"数据目录"},null,8,["modelValue","value"])]),_:1}),e(a,{span:2}),e(a,{span:5},{default:t(()=>[e(c,{onClick:m.selectDir},{default:t(()=>[i(" 修改目录 ")]),_:1},8,["onClick"])]),_:1}),e(a,{span:5},{default:t(()=>[e(c,{onClick:m.openDir},{default:t(()=>[i(" 打开目录 ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),A,o("div",L,[e(_,null,{default:t(()=>[e(a,{span:24},{default:t(()=>[i(b(n.all_list),1)]),_:1})]),_:1})]),N,o("div",T,[e(_,null,{default:t(()=>[e(a,{span:6},{default:t(()=>[e(p,{modelValue:n.name,"onUpdate:modelValue":l[1]||(l[1]=d=>n.name=d),value:n.name,"addon-before":"姓名"},null,8,["modelValue","value"])]),_:1}),e(a,{span:3}),e(a,{span:6},{default:t(()=>[e(p,{modelValue:n.age,"onUpdate:modelValue":l[2]||(l[2]=d=>n.age=d),value:n.age,"addon-before":"年龄"},null,8,["modelValue","value"])]),_:1}),e(a,{span:3}),e(a,{span:6},{default:t(()=>[e(c,{onClick:l[3]||(l[3]=d=>m.dbOperation("add"))},{default:t(()=>[i(" 添加 ")]),_:1})]),_:1})]),_:1})]),E,o("div",F,[e(_,null,{default:t(()=>[e(a,{span:6},{default:t(()=>[e(p,{modelValue:n.search_age,"onUpdate:modelValue":l[4]||(l[4]=d=>n.search_age=d),value:n.search_age,"addon-before":"年龄"},null,8,["modelValue","value"])]),_:1}),e(a,{span:3}),e(a,{span:6}),e(a,{span:3}),e(a,{span:6},{default:t(()=>[e(c,{onClick:l[5]||(l[5]=d=>m.dbOperation("get"))},{default:t(()=>[i(" 查找 ")]),_:1})]),_:1})]),_:1}),e(_,null,{default:t(()=>[e(a,{span:24},{default:t(()=>[i(b(n.userList),1)]),_:1})]),_:1})]),M,o("div",R,[e(_,null,{default:t(()=>[e(a,{span:6},{default:t(()=>[e(p,{modelValue:n.update_name,"onUpdate:modelValue":l[6]||(l[6]=d=>n.update_name=d),value:n.update_name,"addon-before":"姓名"},null,8,["modelValue","value"])]),_:1}),e(a,{span:3}),e(a,{span:6},{default:t(()=>[e(p,{modelValue:n.update_age,"onUpdate:modelValue":l[7]||(l[7]=d=>n.update_age=d),value:n.update_age,"addon-before":"年龄"},null,8,["modelValue","value"])]),_:1}),e(a,{span:3}),e(a,{span:6},{default:t(()=>[e(c,{onClick:l[8]||(l[8]=d=>m.dbOperation("update"))},{default:t(()=>[i(" 更新 ")]),_:1})]),_:1})]),_:1})]),q,o("div",z,[e(_,null,{default:t(()=>[e(a,{span:6},{default:t(()=>[e(p,{modelValue:n.delete_name,"onUpdate:modelValue":l[9]||(l[9]=d=>n.delete_name=d),value:n.delete_name,"addon-before":"姓名"},null,8,["modelValue","value"])]),_:1}),e(a,{span:3}),e(a,{span:6}),e(a,{span:3}),e(a,{span:6},{default:t(()=>[e(c,{onClick:l[10]||(l[10]=d=>m.dbOperation("del"))},{default:t(()=>[i(" 删除 ")]),_:1})]),_:1})]),_:1})])])}const me=h(U,[["render",G],["__scopeId","data-v-f307b85c"]]);export{me as default};
