import{i as g}from"./main.429c1dad.js";import{i as b}from"./ipcRenderer.ac34f8e7.js";import{_ as f,c as k,a as n,b as e,w as o,o as h,d as r,t as p,p as v,e as P}from"./entry.978b97f1.js";import{B as J}from"./index.77e35669.js";import{_ as y}from"./index.03d61709.js";import"./_getTag.cf4696dc.js";import"./index.esm.201addbf.js";import"./index.84c27b45.js";import"./AntdIcon.22ef303b.js";import"./InsertStyle.d154dc06.js";import"./devWarning.642abf93.js";import"./Compact.ff18982f.js";import"./useFlexGapSupport.2d7d1ead.js";const B={data(){return{processPids:"",progress1:0,progress2:0,progress3:0,progress4:0,progress5:0,progress6:0,progress1_pid:0,progress2_pid:0,progress3_pid:0,progress4_pid:0,progress5_pid:0,progress6_pid:0}},mounted(){this.init()},methods:{init(){b.removeAllListeners(g.timerJobProgress),b.removeAllListeners(g.createPoolNotice),b.on(g.timerJobProgress,(t,s)=>{switch(s.jobId){case 1:this.progress1=s.number,this.progress1_pid=s.pid==0?s.pid:this.progress1_pid;break;case 2:this.progress2=s.number,this.progress2_pid=s.pid==0?s.pid:this.progress2_pid;break;case 3:this.progress3=s.number,this.progress3_pid=s.pid==0?s.pid:this.progress3_pid;break;case 4:this.progress4=s.number,this.progress4_pid=s.pid==0?s.pid:this.progress4_pid;break;case 5:this.progress5=s.number,this.progress5_pid=s.pid==0?s.pid:this.progress5_pid;break;case 6:this.progress6=s.number,this.progress6_pid=s.pid==0?s.pid:this.progress6_pid;break}}),b.on(g.createPoolNotice,(t,s)=>{let m=JSON.stringify(s);this.processPids=m})},runJob(t,s){let m={id:t,type:"timer",action:s};b.invoke(g.someJob,m).then(d=>{if(s!="close")switch(d.jobId){case 1:this.progress1_pid=d.result.pid;break;case 2:this.progress2_pid=d.result.pid;break}})},createPool(){let t={number:3};b.send(g.createPool,t)},runJobByPool(t,s){let m={id:t,type:"timer",action:s};b.invoke(g.someJobByPool,m).then(d=>{switch(d.jobId){case 3:this.progress3_pid=d.result.pid;break;case 4:this.progress4_pid=d.result.pid;break;case 5:this.progress5_pid=d.result.pid;break;case 6:this.progress6_pid=d.result.pid;break}})}}},a=t=>(v("data-v-d9fb9945"),t=t(),P(),t),C={id:"app-base-jobs"},x=a(()=>n("div",{class:"one-block-1"},[n("span",null," 1. 任务 / 并发任务 ")],-1)),I={class:"one-block-2"},w=a(()=>n("p",null,null,-1)),N=a(()=>n("div",{class:"one-block-1"},[n("span",null," 2. 任务池 / 并发任务 ")],-1)),S={class:"one-block-2"},j=a(()=>n("p",null,null,-1)),A=a(()=>n("p",null,null,-1)),V=a(()=>n("p",null,null,-1)),L=a(()=>n("p",null,null,-1));function D(t,s,m,d,i,l){const _=J,c=y;return h(),k("div",C,[x,n("div",I,[e(c,null,{default:o(()=>[e(_,{onClick:s[0]||(s[0]=u=>l.runJob(1,"create"))},{default:o(()=>[r("执行任务1")]),_:1}),r(" 进度："+p(i.progress1)+" ， 进程pid："+p(i.progress1_pid)+" ",1),e(_,{onClick:s[1]||(s[1]=u=>l.runJob(1,"close"))},{default:o(()=>[r("关闭")]),_:1})]),_:1}),w,e(c,null,{default:o(()=>[e(_,{onClick:s[2]||(s[2]=u=>l.runJob(2,"create"))},{default:o(()=>[r("执行任务2")]),_:1}),r(" 进度："+p(i.progress2)+" ， 进程pid："+p(i.progress2_pid)+" ",1),e(_,{onClick:s[3]||(s[3]=u=>l.runJob(2,"close"))},{default:o(()=>[r("关闭")]),_:1})]),_:1})]),N,n("div",S,[e(c,null,{default:o(()=>[e(_,{onClick:s[4]||(s[4]=u=>l.createPool())},{default:o(()=>[r("创建进程池")]),_:1}),r(" 进程pids："+p(i.processPids),1)]),_:1}),j,e(c,null,{default:o(()=>[e(_,{onClick:s[5]||(s[5]=u=>l.runJobByPool(3,"run"))},{default:o(()=>[r("执行任务3")]),_:1}),r(" 进度："+p(i.progress3)+" ，进程pid："+p(i.progress3_pid),1)]),_:1}),A,e(c,null,{default:o(()=>[e(_,{onClick:s[6]||(s[6]=u=>l.runJobByPool(4,"run"))},{default:o(()=>[r("执行任务4")]),_:1}),r(" 进度："+p(i.progress4)+" ，进程pid："+p(i.progress4_pid),1)]),_:1}),V,e(c,null,{default:o(()=>[e(_,{onClick:s[7]||(s[7]=u=>l.runJobByPool(5,"run"))},{default:o(()=>[r("执行任务5")]),_:1}),r(" 进度："+p(i.progress5)+" ，进程pid："+p(i.progress5_pid),1)]),_:1}),L,e(c,null,{default:o(()=>[e(_,{onClick:s[8]||(s[8]=u=>l.runJobByPool(6,"run"))},{default:o(()=>[r("执行任务6")]),_:1}),r(" 进度："+p(i.progress6)+" ，进程pid："+p(i.progress6_pid),1)]),_:1})])])}const W=f(B,[["render",D],["__scopeId","data-v-d9fb9945"]]);export{W as default};
