import{D as gt,E as wt,P as G,d as a,_ as S,c as X,R as bt,e as ht,T as oe,m as ke,h as Ct,r as yt,w as Qe,K as St,Q as Ot}from"./_getTag.cf4696dc.js";import{p as Pt,u as Je}from"./useMergedState.1581dfbf.js";import{K as ge,L as xt,R as Mt}from"./LeftOutlined.b6276360.js";import{o as $t}from"./omit.fb3562ba.js";import{g as Ke,i as qe,w as Ee,A as le,b as we}from"./AntdIcon.22ef303b.js";import{s as U,r as E,z as h,b as r,H as et,K as tt,T as nt,I as It,A as k,h as Q,j as Nt,f as ot,O as ae,B as Me,C as Dt,D as At,F as it,P as rt,Q as jt}from"./entry.978b97f1.js";import{i as Lt,u as kt,P as Et,a as ne}from"./motion.ddb0acb0.js";import{C as Tt}from"./CloseOutlined.92919b35.js";import{K as at}from"./Keyframes.e2f385c2.js";import{i as Rt}from"./zoom.e2a25d90.js";import{E as zt}from"./EyeOutlined.ee04c144.js";var _t="[object Number]";function Bt(e){return typeof e=="number"||gt(e)&&wt(e)==_t}const Vt=new at("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Gt=new at("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),lt=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,o=`${n}-fade`,i=t?"&":"";return[Lt(o,Vt,Gt,e.motionDurationMid,t),{[`
        ${i}${o}-enter,
        ${i}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${o}-leave`]:{animationTimingFunction:"linear"}}]};function Ft(){const e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function st(e){const t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function be(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:G.shape({x:Number,y:Number}).loose,title:G.any,footer:G.any,transitionName:String,maskTransitionName:String,animation:G.any,maskAnimation:G.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:G.any,maskProps:G.any,wrapProps:G.any,getContainer:G.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:G.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function Te(e,t,n){let o=t;return!o&&n&&(o=`${e}-${n}`),o}let Re=-1;function Ht(){return Re+=1,Re}function ze(e,t){let n=e[`page${t?"Y":"X"}Offset`];const o=`scroll${t?"Top":"Left"}`;if(typeof n!="number"){const i=e.document;n=i.documentElement[o],typeof n!="number"&&(n=i.body[o])}return n}function Ut(e){const t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,i=o.defaultView||o.parentWindow;return n.left+=ze(i),n.top+=ze(i,!0),n}const _e={width:0,height:0,overflow:"hidden",outline:"none"},Yt=U({compatConfig:{MODE:3},name:"DialogContent",inheritAttrs:!1,props:a(a({},be()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup(e,t){let{expose:n,slots:o,attrs:i}=t;const s=E(),f=E(),d=E();n({focus:()=>{var v;(v=s.value)===null||v===void 0||v.focus()},changeActive:v=>{const{activeElement:p}=document;v&&p===f.value?s.value.focus():!v&&p===s.value&&f.value.focus()}});const O=E(),P=h(()=>{const{width:v,height:p}=e,y={};return v!==void 0&&(y.width=typeof v=="number"?`${v}px`:v),p!==void 0&&(y.height=typeof p=="number"?`${p}px`:p),O.value&&(y.transformOrigin=O.value),y}),m=()=>{It(()=>{if(d.value){const v=Ut(d.value);O.value=e.mousePosition?`${e.mousePosition.x-v.left}px ${e.mousePosition.y-v.top}px`:""}})},w=v=>{e.onVisibleChanged(v)};return()=>{var v,p,y,x;const{prefixCls:b,footer:l=(v=o.footer)===null||v===void 0?void 0:v.call(o),title:C=(p=o.title)===null||p===void 0?void 0:p.call(o),ariaId:N,closable:M,closeIcon:u=(y=o.closeIcon)===null||y===void 0?void 0:y.call(o),onClose:$,bodyStyle:I,bodyProps:j,onMousedown:H,onMouseup:A,visible:R,modalRender:z=o.modalRender,destroyOnClose:D,motionName:J}=e;let L;l&&(L=r("div",{class:`${b}-footer`},[l]));let T;C&&(T=r("div",{class:`${b}-header`},[r("div",{class:`${b}-title`,id:N},[C])]));let F;M&&(F=r("button",{type:"button",onClick:$,"aria-label":"Close",class:`${b}-close`},[u||r("span",{class:`${b}-close-x`},null)]));const g=r("div",{class:`${b}-content`},[F,T,r("div",S({class:`${b}-body`,style:I},j),[(x=o.default)===null||x===void 0?void 0:x.call(o)]),L]),V=Ke(J);return r(nt,S(S({},V),{},{onBeforeEnter:m,onAfterEnter:()=>w(!0),onAfterLeave:()=>w(!1)}),{default:()=>[R||!D?et(r("div",S(S({},i),{},{ref:d,key:"dialog-element",role:"document",style:[P.value,i.style],class:[b,i.class],onMousedown:H,onMouseup:A}),[r("div",{tabindex:0,ref:s,style:_e,"aria-hidden":"true"},null),z?z({originVNode:g}):g,r("div",{tabindex:0,ref:f,style:_e,"aria-hidden":"true"},null)]),[[tt,R]]):null]})}}}),Zt=U({compatConfig:{MODE:3},name:"DialogMask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup(e,t){return()=>{const{prefixCls:n,visible:o,maskProps:i,motionName:s}=e,f=Ke(s);return r(nt,f,{default:()=>[et(r("div",S({class:`${n}-mask`},i),null),[[tt,o]])]})}}}),Be=U({compatConfig:{MODE:3},name:"VcDialog",inheritAttrs:!1,props:qe(a(a({},be()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:()=>null,focusTriggerAfterClose:!0}),setup(e,t){let{attrs:n,slots:o}=t;const i=k(),s=k(),f=k(),d=k(e.visible),O=k(`vcDialogTitle${Ht()}`),P=l=>{var C,N;if(l)bt(s.value,document.activeElement)||(i.value=document.activeElement,(C=f.value)===null||C===void 0||C.focus());else{const M=d.value;if(d.value=!1,e.mask&&i.value&&e.focusTriggerAfterClose){try{i.value.focus({preventScroll:!0})}catch{}i.value=null}M&&((N=e.afterClose)===null||N===void 0||N.call(e))}},m=l=>{var C;(C=e.onClose)===null||C===void 0||C.call(e,l)},w=k(!1),v=k(),p=()=>{clearTimeout(v.value),w.value=!0},y=()=>{v.value=setTimeout(()=>{w.value=!1})},x=l=>{if(!e.maskClosable)return null;w.value?w.value=!1:s.value===l.target&&m(l)},b=l=>{if(e.keyboard&&l.keyCode===ge.ESC){l.stopPropagation(),m(l);return}e.visible&&l.keyCode===ge.TAB&&f.value.changeActive(!l.shiftKey)};return Q(()=>e.visible,()=>{e.visible&&(d.value=!0)},{flush:"post"}),Nt(()=>{var l;clearTimeout(v.value),(l=e.scrollLocker)===null||l===void 0||l.unLock()}),ot(()=>{var l,C;(l=e.scrollLocker)===null||l===void 0||l.unLock(),d.value&&((C=e.scrollLocker)===null||C===void 0||C.lock())}),()=>{const{prefixCls:l,mask:C,visible:N,maskTransitionName:M,maskAnimation:u,zIndex:$,wrapClassName:I,rootClassName:j,wrapStyle:H,closable:A,maskProps:R,maskStyle:z,transitionName:D,animation:J,wrapProps:L,title:T=o.title}=e,{style:F,class:g}=n;return r("div",S({class:[`${l}-root`,j]},Pt(e,{data:!0})),[r(Zt,{prefixCls:l,visible:C&&N,motionName:Te(l,M,u),style:a({zIndex:$},z),maskProps:R},null),r("div",S({tabIndex:-1,onKeydown:b,class:X(`${l}-wrap`,I),ref:s,onClick:x,role:"dialog","aria-labelledby":T?O.value:null,style:a(a({zIndex:$},H),{display:d.value?null:"none"})},L),[r(Yt,S(S({},$t(e,["scrollLocker"])),{},{style:F,class:g,onMousedown:p,onMouseup:y,ref:f,closable:A,ariaId:O.value,prefixCls:l,visible:N,onClose:m,onVisibleChanged:P,motionName:Te(l,D,J)}),o)])])}}}),Wt=be(),Xt=U({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:qe(Wt,{visible:!1}),setup(e,t){let{attrs:n,slots:o}=t;const i=E(e.visible);return kt({},{inTriggerContext:!1}),Q(()=>e.visible,()=>{e.visible&&(i.value=!0)},{flush:"post"}),()=>{const{visible:s,getContainer:f,forceRender:d,destroyOnClose:O=!1,afterClose:P}=e;let m=a(a(a({},e),n),{ref:"_component",key:"dialog"});return f===!1?r(Be,S(S({},m),{},{getOpenCount:()=>2}),o):!d&&O&&!i.value?null:r(Et,{autoLock:!0,visible:s,forceRender:d,getContainer:f},{default:w=>(m=a(a(a({},m),w),{afterClose:()=>{P==null||P(),i.value=!1}}),r(Be,m,o))})}}}),Qt=Xt;function Jt(e){const t=E(null),n=ae(a({},e)),o=E([]),i=s=>{t.value===null&&(o.value=[],t.value=Ee(()=>{let f;o.value.forEach(d=>{f=a(a({},f),d)}),a(n,f),t.value=null})),o.value.push(s)};return Me(()=>{t.value&&Ee.cancel(t.value)}),[n,i]}function Ve(e,t,n,o){const i=t+n,s=(n-o)/2;if(n>o){if(t>0)return{[e]:s};if(t<0&&i<o)return{[e]:-s}}else if(t<0||i>o)return{[e]:t<0?s:-s};return{}}function Kt(e,t,n,o){const{width:i,height:s}=Ft();let f=null;return e<=i&&t<=s?f={x:0,y:0}:(e>i||t>s)&&(f=a(a({},Ve("x",n,e,i)),Ve("y",o,t,s))),f}var qt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n};const Ge=Symbol("previewGroupContext"),$e={provide:e=>{Dt(Ge,e)},inject:()=>At(Ge,{isPreviewGroup:k(!1),previewUrls:h(()=>new Map),setPreviewUrls:()=>{},current:E(null),setCurrent:()=>{},setShowPreview:()=>{},setMousePosition:()=>{},registerImage:null,rootClassName:""})},en=()=>({previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:()=>({})}}),tn=U({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:en(),setup(e,t){let{slots:n}=t;const o=h(()=>{const u={visible:void 0,onVisibleChange:()=>{},getContainer:void 0,current:0};return typeof e.preview=="object"?vt(e.preview,u):u}),i=ae(new Map),s=E(),f=h(()=>o.value.visible),d=h(()=>o.value.getContainer),O=(u,$)=>{var I,j;(j=(I=o.value).onVisibleChange)===null||j===void 0||j.call(I,u,$)},[P,m]=Je(!!f.value,{value:f,onChange:O}),w=E(null),v=h(()=>f.value!==void 0),p=h(()=>Array.from(i.keys())),y=h(()=>p.value[o.value.current]),x=h(()=>new Map(Array.from(i).filter(u=>{let[,{canPreview:$}]=u;return!!$}).map(u=>{let[$,{url:I}]=u;return[$,I]}))),b=function(u,$){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;i.set(u,{url:$,canPreview:I})},l=u=>{s.value=u},C=u=>{w.value=u},N=function(u,$){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const j=()=>{i.delete(u)};return i.set(u,{url:$,canPreview:I}),j},M=u=>{u==null||u.stopPropagation(),m(!1),C(null)};return Q(y,u=>{l(u)},{immediate:!0,flush:"post"}),ot(()=>{P.value&&v.value&&l(y.value)},{flush:"post"}),$e.provide({isPreviewGroup:k(!0),previewUrls:x,setPreviewUrls:b,current:s,setCurrent:l,setShowPreview:m,setMousePosition:C,registerImage:N}),()=>{const u=qt(o.value,[]);return r(it,null,[n.default&&n.default(),r(ct,S(S({},u),{},{"ria-hidden":!P.value,visible:P.value,prefixCls:e.previewPrefixCls,onClose:M,mousePosition:w.value,src:x.value.get(s.value),icons:e.icons,getContainer:d.value}),null)])}}}),ut=tn,ee={x:0,y:0},nn=a(a({},be()),{src:String,alt:String,rootClassName:String,icons:{type:Object,default:()=>({})}}),on=U({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:nn,emits:["close","afterClose"],setup(e,t){let{emit:n,attrs:o}=t;const{rotateLeft:i,rotateRight:s,zoomIn:f,zoomOut:d,close:O,left:P,right:m,flipX:w,flipY:v}=ae(e.icons),p=k(1),y=k(0),x=ae({x:1,y:1}),[b,l]=Jt(ee),C=()=>n("close"),N=k(),M=ae({originX:0,originY:0,deltaX:0,deltaY:0}),u=k(!1),$=$e.inject(),{previewUrls:I,current:j,isPreviewGroup:H,setCurrent:A}=$,R=h(()=>I.value.size),z=h(()=>Array.from(I.value.keys())),D=h(()=>z.value.indexOf(j.value)),J=h(()=>H.value?I.value.get(j.value):e.src),L=h(()=>H.value&&R.value>1),T=k({wheelDirection:0}),F=()=>{p.value=1,y.value=0,x.x=1,x.y=1,l(ee),n("afterClose")},g=c=>{c?p.value+=.5:p.value++,l(ee)},V=c=>{p.value>1&&(c?p.value-=.5:p.value--),l(ee)},_=()=>{y.value+=90},K=()=>{y.value-=90},se=()=>{x.x=-x.x},he=()=>{x.y=-x.y},ue=c=>{c.preventDefault(),c.stopPropagation(),D.value>0&&A(z.value[D.value-1])},ce=c=>{c.preventDefault(),c.stopPropagation(),D.value<R.value-1&&A(z.value[D.value+1])},ie=X({[`${e.prefixCls}-moving`]:u.value}),Ce=`${e.prefixCls}-operations-operation`,ye=`${e.prefixCls}-operations-icon`,fe=[{icon:O,onClick:C,type:"close"},{icon:f,onClick:()=>g(),type:"zoomIn"},{icon:d,onClick:()=>V(),type:"zoomOut",disabled:h(()=>p.value===1)},{icon:s,onClick:_,type:"rotateRight"},{icon:i,onClick:K,type:"rotateLeft"},{icon:w,onClick:se,type:"flipX"},{icon:v,onClick:he,type:"flipY"}],ve=()=>{if(e.visible&&u.value){const c=N.value.offsetWidth*p.value,B=N.value.offsetHeight*p.value,{left:Y,top:q}=st(N.value),Z=y.value%180!==0;u.value=!1;const W=Kt(Z?B:c,Z?c:B,Y,q);W&&l(a({},W))}},Se=c=>{c.button===0&&(c.preventDefault(),c.stopPropagation(),M.deltaX=c.pageX-b.x,M.deltaY=c.pageY-b.y,M.originX=b.x,M.originY=b.y,u.value=!0)},de=c=>{e.visible&&u.value&&l({x:c.pageX-M.deltaX,y:c.pageY-M.deltaY})},Oe=c=>{if(!e.visible)return;c.preventDefault();const B=c.deltaY;T.value={wheelDirection:B}},Pe=c=>{!e.visible||!L.value||(c.preventDefault(),c.keyCode===ge.LEFT?D.value>0&&A(z.value[D.value-1]):c.keyCode===ge.RIGHT&&D.value<R.value-1&&A(z.value[D.value+1]))},me=()=>{e.visible&&(p.value!==1&&(p.value=1),(b.x!==ee.x||b.y!==ee.y)&&l(ee))};let re=()=>{};return Me(()=>{Q([()=>e.visible,u],()=>{re();let c,B;const Y=ne(window,"mouseup",ve,!1),q=ne(window,"mousemove",de,!1),Z=ne(window,"wheel",Oe,{passive:!1}),W=ne(window,"keydown",Pe,!1);try{window.top!==window.self&&(c=ne(window.top,"mouseup",ve,!1),B=ne(window.top,"mousemove",de,!1))}catch{}re=()=>{Y.remove(),q.remove(),Z.remove(),W.remove(),c&&c.remove(),B&&B.remove()}},{flush:"post",immediate:!0}),Q([T],()=>{const{wheelDirection:c}=T.value;c>0?V(!0):c<0&&g(!0)})}),rt(()=>{re()}),()=>{const{visible:c,prefixCls:B,rootClassName:Y}=e;return r(Qt,S(S({},o),{},{transitionName:e.transitionName,maskTransitionName:e.maskTransitionName,closable:!1,keyboard:!0,prefixCls:B,onClose:C,afterClose:F,visible:c,wrapClassName:ie,rootClassName:Y,getContainer:e.getContainer}),{default:()=>[r("div",{class:[`${e.prefixCls}-operations-wrapper`,Y]},[r("ul",{class:`${e.prefixCls}-operations`},[fe.map(q=>{let{icon:Z,onClick:W,type:Le,disabled:pe}=q;return r("li",{class:X(Ce,{[`${e.prefixCls}-operations-operation-disabled`]:pe&&(pe==null?void 0:pe.value)}),onClick:W,key:Le},[jt(Z,{class:ye})])})])]),r("div",{class:`${e.prefixCls}-img-wrapper`,style:{transform:`translate3d(${b.x}px, ${b.y}px, 0)`}},[r("img",{onMousedown:Se,onDblclick:me,ref:N,class:`${e.prefixCls}-img`,src:J.value,alt:e.alt,style:{transform:`scale3d(${x.x*p.value}, ${x.y*p.value}, 1) rotate(${y.value}deg)`}},null)]),L.value&&r("div",{class:X(`${e.prefixCls}-switch-left`,{[`${e.prefixCls}-switch-left-disabled`]:D.value<=0}),onClick:ue},[P]),L.value&&r("div",{class:X(`${e.prefixCls}-switch-right`,{[`${e.prefixCls}-switch-right-disabled`]:D.value>=R.value-1}),onClick:ce},[m])]})}}}),ct=on;var rn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n};const ft=()=>({src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:G.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}),vt=(e,t)=>{const n=a({},e);return Object.keys(t).forEach(o=>{e[o]===void 0&&(n[o]=t[o])}),n};let an=0;const dt=U({compatConfig:{MODE:3},name:"VcImage",inheritAttrs:!1,props:ft(),emits:["click","error"],setup(e,t){let{attrs:n,slots:o,emit:i}=t;const s=h(()=>e.prefixCls),f=h(()=>`${s.value}-preview`),d=h(()=>{const g={visible:void 0,onVisibleChange:()=>{},getContainer:void 0};return typeof e.preview=="object"?vt(e.preview,g):g}),O=h(()=>{var g;return(g=d.value.src)!==null&&g!==void 0?g:e.src}),P=h(()=>e.placeholder&&e.placeholder!==!0||o.placeholder),m=h(()=>d.value.visible),w=h(()=>d.value.getContainer),v=h(()=>m.value!==void 0),p=(g,V)=>{var _,K;(K=(_=d.value).onVisibleChange)===null||K===void 0||K.call(_,g,V)},[y,x]=Je(!!m.value,{value:m,onChange:p}),b=E(P.value?"loading":"normal");Q(()=>e.src,()=>{b.value=P.value?"loading":"normal"});const l=E(null),C=h(()=>b.value==="error"),N=$e.inject(),{isPreviewGroup:M,setCurrent:u,setShowPreview:$,setMousePosition:I,registerImage:j}=N,H=E(an++),A=h(()=>e.preview&&!C.value),R=()=>{b.value="normal"},z=g=>{b.value="error",i("error",g)},D=g=>{if(!v.value){const{left:V,top:_}=st(g.target);M.value?(u(H.value),I({x:V,y:_})):l.value={x:V,y:_}}M.value?$(!0):x(!0),i("click",g)},J=()=>{x(!1),v.value||(l.value=null)},L=E(null);Q(()=>L,()=>{b.value==="loading"&&L.value.complete&&(L.value.naturalWidth||L.value.naturalHeight)&&R()});let T=()=>{};Me(()=>{Q([O,A],()=>{if(T(),!M.value)return()=>{};T=j(H.value,O.value,A.value),A.value||T()},{flush:"post",immediate:!0})}),rt(()=>{T()});const F=g=>Bt(g)?g+"px":g;return()=>{const{prefixCls:g,wrapperClassName:V,fallback:_,src:K,placeholder:se,wrapperStyle:he,rootClassName:ue}=e,{width:ce,height:ie,crossorigin:Ce,decoding:ye,alt:fe,sizes:ve,srcset:Se,usemap:de,class:Oe,style:Pe}=n,me=d.value,{icons:re,maskClassName:c}=me,B=rn(me,["icons","maskClassName"]),Y=X(g,V,ue,{[`${g}-error`]:C.value}),q=C.value&&_?_:O.value,Z={crossorigin:Ce,decoding:ye,alt:fe,sizes:ve,srcset:Se,usemap:de,width:ce,height:ie,class:X(`${g}-img`,{[`${g}-img-placeholder`]:se===!0},Oe),style:a({height:F(ie)},Pe)};return r(it,null,[r("div",{class:Y,onClick:A.value?D:W=>{i("click",W)},style:a({width:F(ce),height:F(ie)},he)},[r("img",S(S(S({},Z),C.value&&_?{src:_}:{onLoad:R,onError:z,src:K}),{},{ref:L}),null),b.value==="loading"&&r("div",{"aria-hidden":"true",class:`${g}-placeholder`},[se||o.placeholder&&o.placeholder()]),o.previewMask&&A.value&&r("div",{class:[`${g}-mask`,c]},[o.previewMask()])]),!M.value&&A.value&&r(ct,S(S({},B),{},{"aria-hidden":!y.value,visible:y.value,prefixCls:f.value,onClose:J,mousePosition:l.value,src:q,alt:fe,getContainer:w.value,icons:re,rootClassName:ue}),null)])}}});dt.PreviewGroup=ut;const ln=dt;var sn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const un=sn;function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){cn(e,i,n[i])})}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(t,n){var o=Fe({},t,n.attrs);return r(le,Fe({},o,{icon:un}),null)};Ie.displayName="RotateLeftOutlined";Ie.inheritAttrs=!1;const fn=Ie;var vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const dn=vn;function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){mn(e,i,n[i])})}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(t,n){var o=He({},t,n.attrs);return r(le,He({},o,{icon:dn}),null)};Ne.displayName="RotateRightOutlined";Ne.inheritAttrs=!1;const pn=Ne;var gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const wn=gn;function Ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){bn(e,i,n[i])})}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(t,n){var o=Ue({},t,n.attrs);return r(le,Ue({},o,{icon:wn}),null)};De.displayName="ZoomInOutlined";De.inheritAttrs=!1;const hn=De;var Cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const yn=Cn;function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){Sn(e,i,n[i])})}return e}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(t,n){var o=Ye({},t,n.attrs);return r(le,Ye({},o,{icon:yn}),null)};Ae.displayName="ZoomOutOutlined";Ae.inheritAttrs=!1;const On=Ae;var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const xn=Pn;function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){Mn(e,i,n[i])})}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(t,n){var o=Ze({},t,n.attrs);return r(le,Ze({},o,{icon:xn}),null)};je.displayName="SwapOutlined";je.inheritAttrs=!1;const We=je;function Xe(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const $n=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}${e.antCls}-zoom-enter, ${t}${e.antCls}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${e.antCls}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:a(a({},Xe("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:a(a({},Xe("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:lt(e)}]},xe=e=>({position:e||"absolute",inset:0}),In=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:o,marginXXS:i,prefixCls:s}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new oe("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${s}-mask-info`]:a(a({},Ct),{padding:`0 ${o}px`,[t]:{marginInlineEnd:i,svg:{verticalAlign:"baseline"}}})}},Nn=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:o,previewOperationColorDisabled:i,motionDurationSlow:s}=e,f=new oe(n).setAlpha(.1),d=f.clone().setAlpha(.2);return{[`${t}-operations`]:a(a({},yt(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.previewOperationColor,listStyle:"none",background:f.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${s}`,userSelect:"none","&:hover":{background:d.toRgbString()},"&-disabled":{color:i,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.previewOperationSize}})}},Dn=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:o,previewCls:i,zIndexPopup:s,motionDurationSlow:f}=e,d=new oe(t).setAlpha(.1),O=d.clone().setAlpha(.2);return{[`${i}-switch-left, ${i}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:s+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.previewOperationColor,background:d.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${f}`,pointerEvents:"auto",userSelect:"none","&:hover":{background:O.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${i}-switch-left`]:{insetInlineStart:e.marginSM},[`${i}-switch-right`]:{insetInlineEnd:e.marginSM}}},An=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:o,componentCls:i}=e;return[{[`${i}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:a(a({},xe()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":a(a({},xe()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${i}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${i}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"},"&":[Nn(e),Dn(e)]}]},jn=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:a({},In(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:a({},xe())}}},Ln=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Rt(e,"zoom"),"&":lt(e,!0)}},mt=ht("Image",e=>{const t=`${e.componentCls}-preview`,n=ke(e,{previewCls:t,modalMaskBg:new oe("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[jn(n),An(n),$n(ke(n,{componentCls:t})),Ln(n)]},e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new oe(e.colorTextLightSolid).toRgbString(),previewOperationColorDisabled:new oe(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5})),pt={rotateLeft:r(fn,null,null),rotateRight:r(pn,null,null),zoomIn:r(hn,null,null),zoomOut:r(On,null,null),close:r(Tt,null,null),left:r(xt,null,null),right:r(Mt,null,null),flipX:r(We,null,null),flipY:r(We,{rotate:90},null)},kn=()=>({previewPrefixCls:String,preview:St()}),En=U({compatConfig:{MODE:3},name:"AImagePreviewGroup",inheritAttrs:!1,props:kn(),setup(e,t){let{attrs:n,slots:o}=t;const{prefixCls:i,rootPrefixCls:s}=Qe("image",e),f=h(()=>`${i.value}-preview`),[d,O]=mt(i),P=h(()=>{const{preview:m}=e;if(m===!1)return m;const w=typeof m=="object"?m:{};return a(a({},w),{rootClassName:O.value,transitionName:we(s.value,"zoom",w.transitionName),maskTransitionName:we(s.value,"fade",w.maskTransitionName)})});return()=>d(r(ut,S(S({},a(a({},n),e)),{},{preview:P.value,icons:pt,previewPrefixCls:f.value}),o))}}),Tn=En,te=U({name:"AImage",inheritAttrs:!1,props:ft(),setup(e,t){let{slots:n,attrs:o}=t;const{prefixCls:i,rootPrefixCls:s,configProvider:f}=Qe("image",e),[d,O]=mt(i),P=h(()=>{const{preview:m}=e;if(m===!1)return m;const w=typeof m=="object"?m:{};return a(a({icons:pt},w),{transitionName:we(s.value,"zoom",w.transitionName),maskTransitionName:we(s.value,"fade",w.maskTransitionName)})});return()=>{var m,w;const v=((w=(m=f.locale)===null||m===void 0?void 0:m.value)===null||w===void 0?void 0:w.Image)||Ot.Image,p=()=>r("div",{class:`${i.value}-mask-info`},[r(zt,null,null),v==null?void 0:v.preview]),{previewMask:y=n.previewMask||p}=e;return d(r(ln,S(S({},a(a(a({},o),e),{prefixCls:i.value})),{},{preview:P.value,rootClassName:X(e.rootClassName,O.value)}),a(a({},n),{previewMask:typeof y=="function"?y:null})))}}});te.PreviewGroup=Tn;te.install=function(e){return e.component(te.name,te),e.component(te.PreviewGroup.name,te.PreviewGroup),e};const Wn=te;export{Wn as _};
