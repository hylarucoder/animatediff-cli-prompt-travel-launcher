import{s as d,i as m}from"./main.429c1dad.js";import{i as n}from"./ipcRenderer.ac34f8e7.js";import{_ as h,c as v,a as o,b as s,w as p,o as b,d as i,t as k,p as g,e as x}from"./entry.978b97f1.js";import{_ as w}from"./index.0c40136e.js";import{B as N}from"./index.77e35669.js";import{_ as B}from"./index.03d61709.js";import"./_getTag.cf4696dc.js";import"./index.esm.201addbf.js";import"./AntdIcon.22ef303b.js";import"./InsertStyle.d154dc06.js";import"./CloseOutlined.92919b35.js";import"./CheckOutlined.61cd5a30.js";import"./CloseCircleFilled.3288826c.js";import"./devWarning.642abf93.js";import"./index.50fb9c59.js";import"./firstNotUndefined.9a4a1b8d.js";import"./motion.ddb0acb0.js";import"./vnode.1e6e4dd3.js";import"./ResizeObserver.es.0f9f8adb.js";import"./zoom.e2a25d90.js";import"./Keyframes.e2f385c2.js";import"./index.84c27b45.js";import"./Compact.ff18982f.js";import"./useFlexGapSupport.2d7d1ead.js";const I={data(){return{status:0,progress:"",percentNumber:0}},mounted(){this.init()},methods:{init(){n.removeAllListeners(d.appUpdater),n.on(d.appUpdater,(e,t)=>{t=JSON.parse(t),this.status=t.status,t.status==3?(this.progress=t.desc,this.percentNumber=t.percentNumber):this.$message.info(t.desc)})},checkForUpdater(){n.invoke(m.checkForUpdater).then(e=>{console.log(e)})},download(){if(this.status!==1){this.$message.info("没有可用版本");return}n.invoke(m.downloadApp).then(e=>{console.log(e)})}}},l=e=>(g("data-v-123bef2e"),e=e(),x(),e),S={id:"app-demo-window"},U=l(()=>o("div",{class:"one-block-1"},[o("span",null," 1. 自动更新 ")],-1)),$={class:"one-block-2"},y=l(()=>o("div",{class:"one-block-1"},[o("span",null," 2. 下载进度 ")],-1)),A={class:"one-block-2"};function C(e,t,F,V,r,a){const c=N,_=B,u=w;return b(),v("div",S,[U,o("div",$,[s(_,null,{default:p(()=>[s(c,{onClick:t[0]||(t[0]=f=>a.checkForUpdater())},{default:p(()=>[i("检查更新")]),_:1}),s(c,{onClick:t[1]||(t[1]=f=>a.download())},{default:p(()=>[i("下载并安装")]),_:1})]),_:1})]),y,o("div",A,[s(u,{percent:r.percentNumber,status:"active"},null,8,["percent"]),s(_,null,{default:p(()=>[i(k(r.progress),1)]),_:1})])])}const nt=h(I,[["render",C],["__scopeId","data-v-123bef2e"]]);export{nt as default};
